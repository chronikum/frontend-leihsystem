<div fxLayout="column" fxLayoutAlign="start stretch" class="zfm-background">
  <mat-card>
    <!-- MOBILE MENU-->
    <div fxLayout="column" fxLayoutAlign="space-evenly start">
      <div>
        <app-system-logo [width]="'200'"></app-system-logo>
      </div>
      <mat-accordion #menuSections [displayMode]="'flat'" [multi]="true">
        <mat-expansion-panel [expanded]="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
               <span class="menu-section">GERÃ„TE & RESERVIERUNGEN</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div *ngFor="let item of getMenuItemsByCategory(1)">
            <div *ngIf="userHasPermissionToSeeItem(item.userRole)">
                  <mat-icon matPrefix class="menu-page-icon" *ngIf="item.icon">{{item.icon}}</mat-icon>
                <button [ngClass]="{'active': (activeItem === item.title.toLowerCase())}"
                  (click)="navigateToTargetLink(item.link)" mat-button>{{item.title}}
                </button>
            </div>
          </div>
        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="true" *ngIf="userHasPermissionToSeeItem(this.adminUser)">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="menu-section">USER-MANAGEMENT</span>
            </mat-panel-title>
            <mat-panel-description>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div *ngFor="let item of getMenuItemsByCategory(2)">
            <div *ngIf="userHasPermissionToSeeItem(item.userRole)">
              <mat-icon matPrefix class="menu-page-icon" *ngIf="item.icon">{{item.icon}}</mat-icon>
            <button [ngClass]="{'active': (activeItem === item.title.toLowerCase())}"
              (click)="navigateToTargetLink(item.link)" mat-button>{{item.title}}</button>
            </div>
          </div>
        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="true" *ngIf="isAdminUser()">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="menu-section">Admin</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div *ngFor="let item of getMenuItemsByCategory(4)">
            <div *ngIf="userHasPermissionToSeeItem(item.userRole)">
              <mat-icon matPrefix class="menu-page-icon" *ngIf="item.icon">{{item.icon}}</mat-icon>
            <button [ngClass]="{'active': (activeItem === item.title.toLowerCase())}"
              (click)="navigateToTargetLink(item.link)" mat-button>{{item.title}}</button>
            </div>
          </div>
        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="menu-section">SONSTIGES</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div *ngFor="let item of getMenuItemsByCategory(3)">
            <div *ngIf="userHasPermissionToSeeItem(item.userRole)">
              <mat-icon matPrefix class="menu-page-icon" *ngIf="item.icon">{{item.icon}}</mat-icon>
            <button [ngClass]="{'active': (activeItem === item.title.toLowerCase())}"
              (click)="navigateToTargetLink(item.link)" mat-button>{{item.title}}</button>
            </div>
          </div>
        </mat-expansion-panel>

      </mat-accordion>
    </div>
    <br>
    <app-logged-in-card *ngIf="isAuthenticated" [user]="currentUser">

    </app-logged-in-card>
  </mat-card>
</div>
